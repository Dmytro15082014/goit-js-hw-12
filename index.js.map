{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst API_KEY = \"49627345-81d87c81626646e8cd4c1e6ab\";\n\nconst getImagesByQuery = (query) => {\n    return axios(\"https://pixabay.com/api/\", {\n        params: {\n            key: API_KEY,\n            q: query,\n            image_type: \"photo\",\n            orientation: \"horizontal\",\n            safesearch: true,\n            per_page: \"30\"\n        }\n    });\n};\n\nexport default getImagesByQuery;","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector(\".gallery\");\nconst spinner = document.querySelector(\".loader\");\nconst galleryConstructor = new SimpleLightbox('.gallery-card a', { captionsData: \"alt\", captionDelay: \"250\" });\n\nexport default function createGallery(images){\n    gallery.innerHTML = images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => \n       `<li class=\"image-item\">\n            <div class=\"gallery-card\"><a href=\"${largeImageURL}\"><img src=\"${webformatURL}\" alt=\"${tags}\" class=\"image\"/></a></div>\n            <ul class=\"image-info\">\n                <li>Likes<p>${likes}</p></li>\n                <li>Views<p>${views}</p></li>\n                <li>Comments<p>${comments}</p></li>\n                <li>Downloads<p>${downloads}</p></li>\n            </ul>\n        </li>`).join(\"\");    \n    galleryConstructor.refresh();\n};\n\nexport const clearGallery = () => {\n    gallery.innerHTML = \"\";\n};\n\nexport const showLoader = () => {\n    spinner.classList.remove(\"visually-hidden\");\n};\n\nexport const hideLoader = () => {\n    spinner.classList.add(\"visually-hidden\");\n};","import getImagesByQuery from \"./js/pixabay-api\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport createGallery from \"./js/render-functions\";\nimport { clearGallery, showLoader, hideLoader } from \"./js/render-functions\"\n\nconst searchForm = document.querySelector(\".form\");\n\nsearchForm.addEventListener(\"submit\", searchImage);\n\nfunction searchImage(e) {\n    e.preventDefault();\n    showLoader();\n    clearGallery()\n    const query = searchForm.elements[0].value.toLowerCase().trim();\n    if (!(query.length > 0)) {\n        iziToast.show(messageError);\n        hideLoader();\n        searchForm.reset();\n        return\n    };\n    getImagesByQuery(query)\n        .then((response) => {\n            const dataImg = response.data.hits;\n            if (!(dataImg.length)) {\n                iziToast.show(messageError);\n                return;\n            }\n            createGallery(dataImg);\n        })\n        .catch((error) =>{\n            messageError.message = error.message;\n            iziToast.show(messageError)})\n        .finally(() => {\n            hideLoader();\n            searchForm.reset();\n        });\n    \n};\n\nconst messageError = {\n    title: \"Error\",\n    titleColor: '#fafafb',\n    message: \"Sorry, there are no images matching your search query. Please try again!\",\n    iconColor: \"#fafafb\",\n    color: \"#ef4040\",\n    messageColor: \"#fafafb\",\n    position: \"topRight\",\n    messageSize: \"16px\",\n    messageSize: \"150%\",\n};"],"names":["API_KEY","getImagesByQuery","query","axios","gallery","spinner","galleryConstructor","SimpleLightbox","createGallery","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","searchForm","searchImage","e","iziToast","messageError","response","dataImg","error"],"mappings":"owBAEA,MAAMA,EAAU,qCAEVC,EAAoBC,GACfC,EAAM,2BAA4B,CACrC,OAAQ,CACJ,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,IACb,CACT,CAAK,ECXCE,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAU,SAAS,cAAc,SAAS,EAC1CC,EAAqB,IAAIC,EAAe,kBAAmB,CAAE,aAAc,MAAO,aAAc,KAAK,CAAE,EAE9F,SAASC,EAAcC,EAAO,CACzCL,EAAQ,UAAYK,EAAO,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IACrG;AAAA,iDAC0CL,CAAa,eAAeD,CAAY,UAAUE,CAAI;AAAA;AAAA,8BAEzEC,CAAK;AAAA,8BACLC,CAAK;AAAA,iCACFC,CAAQ;AAAA,kCACPC,CAAS;AAAA;AAAA,cAE7B,EAAE,KAAK,EAAE,EACnBV,EAAmB,QAAO,CAC9B,CAEO,MAAMW,EAAe,IAAM,CAC9Bb,EAAQ,UAAY,EACxB,EAEac,EAAa,IAAM,CAC5Bb,EAAQ,UAAU,OAAO,iBAAiB,CAC9C,EAEac,EAAa,IAAM,CAC5Bd,EAAQ,UAAU,IAAI,iBAAiB,CAC3C,ECzBMe,EAAa,SAAS,cAAc,OAAO,EAEjDA,EAAW,iBAAiB,SAAUC,CAAW,EAEjD,SAASA,EAAYC,EAAG,CACpBA,EAAE,eAAc,EAChBJ,IACAD,EAAc,EACd,MAAMf,EAAQkB,EAAW,SAAS,CAAC,EAAE,MAAM,cAAc,OACzD,GAAI,EAAElB,EAAM,OAAS,GAAI,CACrBqB,EAAS,KAAKC,CAAY,EAC1BL,IACAC,EAAW,MAAK,EAChB,MACR,CACInB,EAAiBC,CAAK,EACjB,KAAMuB,GAAa,CAChB,MAAMC,EAAUD,EAAS,KAAK,KAC9B,GAAI,CAAEC,EAAQ,OAAS,CACnBH,EAAS,KAAKC,CAAY,EAC1B,MACH,CACDhB,EAAckB,CAAO,CACjC,CAAS,EACA,MAAOC,GAAS,CACbH,EAAa,QAAUG,EAAM,QAC7BJ,EAAS,KAAKC,CAAY,CAAC,CAAC,EAC/B,QAAQ,IAAM,CACXL,IACAC,EAAW,MAAK,CAC5B,CAAS,CAET,CAEA,MAAMI,EAAe,CACjB,MAAO,QACP,WAAY,UACZ,QAAS,2EACT,UAAW,UACX,MAAO,UACP,aAAc,UACd,SAAU,WACV,YAAa,OACb,YAAa,MACjB"}